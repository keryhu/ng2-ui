<md-card>
  <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" autocomplete="off">

    <!------------ 公司名字   ------------------>
    <label class="item-title">公司名字:</label>
    <div *ngIf="checkCompanyType==0||
    checkCompanyType==1&&companyInfo.name.readWrite==1">
      <div class="reject-message"
           *ngIf="checkCompanyType==1&&companyInfo.name.readWrite==1">
        {{companyInfo?.name.rejectMsg}}---------原提交内容为: {{companyInfo?.name.value}}
      </div>
      <md-icon style="color: cornflowerblue" *ngIf="checkCompanyType==1&&companyInfo.name.readWrite==1"
               class="md-24">error
      </md-icon>
      <md-input placeholder="公司名字，工商局注册全称" formControlName="name">
      </md-input>

      <span class="error-message" *ngIf="name.touched&&name.errors">
            <label *ngIf="name.errors.required">不能为空</label>
            <label *ngIf="name.errors.companyNameFormat">公司名字不规范</label>
            <label *ngIf="name.errors.companyNameExist">此公司已注册！</label>
    </span>
    </div>

    <div *ngIf="(checkCompanyType==1&&companyInfo.name.readWrite==0)||
                checkCompanyType==2">
      <md-input [value]="companyInfo.name.value" [disabled]="true">
      </md-input>
    </div>
    <!------------ address   ------------------>
    <hr>
    <label class="item-title">公司所在地:</label>
    <div *ngIf="checkCompanyType==0||
    checkCompanyType==1&&companyInfo.address.readWrite==1">

      <div class="reject-message"
           *ngIf="checkCompanyType==1&&companyInfo.address.readWrite==1">
        {{companyInfo?.address.rejectMsg}}---------原提交内容为:{{companyInfo?.address.value}}
      </div>

      <div *ngIf="checkCompanyType==1&&companyInfo.address.readWrite==1">
        <md-icon style="color: cornflowerblue" class="md-24">error
        </md-icon>
      </div>
      <app-address></app-address>

    </div>

    <div *ngIf="(checkCompanyType==1&&companyInfo.address.readWrite==0)||
                checkCompanyType==2">
      <md-input [value]="companyInfo.address.value" [disabled]="true">
      </md-input>
    </div>

    <!------------ full address   ------------------>

    <hr>
    <label class="item-title">详细地址:</label>
    <div *ngIf="checkCompanyType==0||
    checkCompanyType==1&&companyInfo.fullAddress.readWrite==1">

      <div class="reject-message"
           *ngIf="checkCompanyType==1&&companyInfo.fullAddress.readWrite==1">
        {{companyInfo?.fullAddress.rejectMsg}}---------原提交内容为: {{companyInfo?.fullAddress.value}}
      </div>
      <md-icon style="color: cornflowerblue"
               *ngIf="checkCompanyType==1&&companyInfo.fullAddress.readWrite==1"
               class="md-24">error
      </md-icon>
      <md-input placeholder="详细地址：xx路xx号xx层" formControlName="fullAddress">
      </md-input>

      <span class="error-message" *ngIf="fullAddress.touched&&fullAddress.errors">
            <label *ngIf="fullAddress.errors.required">不能为空</label>
      </span>

    </div>

    <div *ngIf="(checkCompanyType==1&&companyInfo.fullAddress.readWrite==0)||
                checkCompanyType==2">
      <md-input [value]="companyInfo.fullAddress.value" [disabled]="true">
      </md-input>
    </div>

    <!------------ 公司行业:   ------------------>

    <hr>
    <label class="item-title">公司行业:</label>
    <div *ngIf="checkCompanyType==0||
    checkCompanyType==1&&companyInfo.companyIndustry.readWrite==1">
      <div class="reject-message"
           *ngIf="checkCompanyType==1&&companyInfo.companyIndustry.readWrite==1">
        {{companyInfo?.companyIndustry.rejectMsg}}---------原提交内容为:{{companyInfo?.companyIndustry.value}}
      </div>
      <div *ngIf="checkCompanyType==1&&companyInfo.companyIndustry.readWrite==1">
        <md-icon style="color: cornflowerblue" class="md-24">error
        </md-icon>
      </div>

      <select formControlName="companyIndustry"
              (change)="onCompanyIndustryChange($event.target.value)">
        <option *ngFor="let c of companyIndustries ">{{c}}</option>
      </select>
    </div>

    <div *ngIf="(checkCompanyType==1&&companyInfo.companyIndustry.readWrite==0)||
                checkCompanyType==2">
      <md-input [value]="companyInfo.companyIndustry.value" [disabled]="true">
      </md-input>
    </div>

    <!------------ 公司性质:  ------------------>

    <hr>
    <label class="item-title">公司性质:</label>
    <div *ngIf="checkCompanyType==0||
    checkCompanyType==1&&companyInfo.enterpriseNature.readWrite==1">
      <div class="reject-message"
           *ngIf="checkCompanyType==1&&companyInfo.enterpriseNature.readWrite==1">
        {{companyInfo?.enterpriseNature.rejectMsg}}---------原提交内容为:{{companyInfo?.enterpriseNature.value}}
      </div>
      <div *ngIf="checkCompanyType==1&&companyInfo.enterpriseNature.readWrite==1">
        <md-icon style="color: cornflowerblue" class="md-24">error
        </md-icon>
      </div>

      <select formControlName="enterpriseNature"
              (change)="onEnterpriseNatureChange($event.target.value)">
        <option *ngFor="let c of enterpriseNatures ">{{c}}</option>
      </select>
    </div>

    <div *ngIf="(checkCompanyType==1&&companyInfo.enterpriseNature.readWrite==0)||
                checkCompanyType==2">
      <md-input [value]="companyInfo.enterpriseNature.value" [disabled]="true">
      </md-input>
    </div>

    <!------------ 管理员登录名:  ------------------>
    <div *ngIf="checkCompanyType==0||checkCompanyType==1">
      <hr>
      <label class="item-title">管理员登录名:</label>
      <p class="text-sm-right text-info">申请注册公司帐户的用户，就是平台管理员</p>
      <md-input [value]="adminLoginName" [disabled]="true">
      </md-input>
    </div>
    <!------------  营业执照:  ------------------>
    <hr>
    <label class="item-title">营业执照:</label>
    <div *ngIf="checkCompanyType==0||
    checkCompanyType==1&&companyInfo.businessLicense.readWrite==1">
      <div class="reject-message"
           *ngIf="checkCompanyType==1&&companyInfo.businessLicense.readWrite==1">
        {{companyInfo?.businessLicense.rejectMsg}}--原图为下:
      </div>
      <div *ngIf="checkCompanyType==1&&companyInfo.businessLicense.readWrite==1">
        <img [src]="businessLicense" width="500" height="600"/>
      </div>
      <div *ngIf="businessImg|async">
        <img [src]="businessImg|async" width="300" height="400"/>
      </div>
      <md-icon style="color: cornflowerblue"
               *ngIf="checkCompanyType==1&&companyInfo.businessLicense.readWrite==1"
               class="md-24">error
      </md-icon>
      <div class="upload">
        <app-file-upload [buttonValue]="uploadBusinessButtonValue"
                         [acceptType]="acceptType"
                         [maxSize]="maxSize" [minResizeSize]="minResizeSize"
                         (uploadComplete)="uploadBusinessComplete($event)">
        </app-file-upload>
      </div>
    </div>
    <div *ngIf="(checkCompanyType==1&&companyInfo.businessLicense.readWrite==0)||
                checkCompanyType==2">
      <img [src]="businessLicense" width="500" height="600"/>
    </div>



    <!------------  介绍信:  ------------------>

    <hr>
    <label class="item-title">介绍信:</label>
    <div *ngIf="checkCompanyType==0||
    checkCompanyType==1&&companyInfo.intruduction.readWrite==1">
      <div class="reject-message"
           *ngIf="checkCompanyType==1&&companyInfo.intruduction.readWrite==1">
        {{companyInfo?.intruduction.rejectMsg}}--原图为下:
      </div>
      <div *ngIf="checkCompanyType==1&&companyInfo.intruduction.readWrite==1">
        <img [src]="intruduction" width="500" height="600"/>
      </div>
      <div *ngIf="intruductionImg|async">
        <img [src]="intruductionImg|async" width="300" height="400"/>
      </div>
      <md-icon style="color: cornflowerblue"
               *ngIf="checkCompanyType==1&&companyInfo.intruduction.readWrite==1"
               class="md-24">error
      </md-icon>
      <div class="upload">
        <app-file-upload [buttonValue]="uploadInstructionbuttonValue"
                         [acceptType]="acceptType"
                         [maxSize]="maxSize" [minResizeSize]="minResizeSize"
                         (uploadComplete)="uploadIntruductionComplete($event)">
        </app-file-upload>
      </div>
    </div>
    <div *ngIf="(checkCompanyType==1&&companyInfo.intruduction.readWrite==0)||
                checkCompanyType==2">
      <img [src]="intruduction" width="500" height="600"/>
    </div>

    <div class="error-message centerMessage">
      {{errMsg}}
    </div>

    <!------------ submit:  ------------------>
    <div *ngIf="checkCompanyType==0||checkCompanyType==1">
      <md-progress-bar *ngIf="afterSubmit"
                       mode="indeterminate">
      </md-progress-bar>

      <button *ngIf="!afterSubmit" type="submit" md-raised-button
              [disabled]="!canSubmit()"
              class="full-width" color="primary">
        提交
      </button>

    </div>

  </form>
</md-card>
